# ПРОГРАММА КУРСА: "AI-агенты: от теории к автоматизации"
## Для системных аналитиков | Low-Code подход

---

## PET-ПРОЕКТ КУРСА:
**"Document Processing Agent — Агент для обработки входящих документов"**

Во время курса студенты разработают AI-агента для автоматизации обработки документов:
- Multi-agent архитектура: классификатор, экстрактор данных, валидатор
- n8n workflows для оркестрации агентов
- Yandex GPT / Ollama как мозг агентов
- Запуск задач по расписанию
- Мониторинг и логирование процессов

---

## СТРУКТУРА КУРСА "AI-агенты: от теории к автоматизации"

### МОДУЛЬ 1: Введение в AI-агентов (60 мин.)
**Занятие 1.1: Что такое AI-агент?** (20 мин.)
- Определение агента vs программа vs LLM
- Типы агентов: reactive, planning-based, multi-agent
- Примеры в бизнесе: RPA + AI, аналитика, поддержка

**Занятие 1.2: Архитектура агентов** (20 мин.)
- Perception → Reasoning → Action цикл
- Memory: short-term vs long-term
- Tool use: как агент взаимодействует с миром

**Занятие 1.3: n8n vs кодинг vs другие платформы** (20 мин.)
- n8n: визуальный конструктор рабочих процессов, 400+ интеграций
- Альтернативы: LangChain, AutoGen, Crew AI
- Когда использовать каждый подход

---

### МОДУЛЬ 2: Основы n8n (60 мин.)
**Занятие 2.1: Установка и первый workflow** (20 мин.)
- Установка n8n локально или облако
- Интерфейс: ноды, подключения, параметры
- Первый workflow: HTTP триггеры

**Занятие 2.2: Основные nodes: HTTP, If/Else, Loop** (20 мин.)
- HTTP Request node для вызова API
- Обработка состояний: If/Else node
- Циклы (Loop) для обработки массивов данных
- Практика: обработка списка пользователей

**Занятие 2.3: Работа с данными: JSON, Split, Merge** (20 мин.)
- Преобразование данных между форматами
- Split node: разбиение данных
- Merge node: объединение потоков
- Практика: трансформация CSV → JSON

---

### МОДУЛЬ 3: Интеграция LLM в n8n (70 мин.)
**Занятие 3.1: Подключение Yandex GPT через OpenAI API** (25 мин.)
- Yandex GPT API совместимость с OpenAI API
- Конфигурация в n8n
- Первый workflow: HTTP trigger → Yandex GPT → результат

**Занятие 3.2: Prompt templates и переменные** (20 мин.)
- Параметризация промптов в n8n
- Использование переменных из предыдущих nodes
- Динамическое формирование контекста

**Занятие 3.3: Обработка ошибок и retry логика** (20 мин.)
- Error handling в n8n
- Retry с экспоненциальной задержкой
- Fallback действия при ошибке

**Занятие 3.4: Ollama в n8n (локальные модели)** (5 мин.)
- Запуск Ollama локально
- Интеграция в n8n через HTTP
- Когда использовать local vs облако

---

### МОДУЛЬ 4: Создание первого простого агента (50 мин.)
**Занятие 4.1: Агент для классификации документов** (25 мин.)
- Получение текста документа
- LLM: "Определи категорию документа: договор, счёт, отчёт, другое"
- Сохранение результата в БД

**Занятие 4.2: Tool calling в n8n** (25 мин.)
- Агент вызывает функции: search_db, send_email, create_task
- Как LLM "выбирает" нужный tool
- Интеграция tools в n8n workflow

---

### МОДУЛЬ 5: Multi-agent системы (70 мин.)
**Занятие 5.1: Архитектура многоагентных систем** (20 мин.)
- Maestro-agent для оркестрации
- Специализированные агенты: Classifier, Extractor, Validator
- Коммуникация между агентами (n8n sub-workflows)

**Занятие 5.2: Классификационный агент** (15 мин.)
- Определение типа документа
- LLM: классификация на основе контента
- Роутинг к следующему агенту

**Занятие 5.3: Экстракторный агент** (15 мин.)
- Извлечение структурированных данных (сумма, дата, контрагент)
- Structured output: JSON schema
- Валидация извлеченных данных

**Занятие 5.4: Агент валидации и исправления** (20 мин.)
- Проверка качества извлеченных данных
- Если есть ошибки: re-prompt агент для исправления
- Сохранение в базу данных

---

### МОДУЛЬ 6: Интеграции и внешние системы (60 мин.)
**Занятие 6.1: Интеграция с Google Sheets, Airtable** (20 мин.)
- Чтение данных из таблиц
- Запись результатов обработки
- Автоматическое обновление статусов

**Занятие 6.2: Email интеграция и Telegram** (20 мин.)
- Получение документов по email
- Отправка результатов через Telegram
- Двусторонняя коммуникация

**Занятие 6.3: Webhook для внешних систем** (20 мин.)
- Создание HTTP webhook в n8n
- Получение данных из CRM, ERP
- Real-time обработка входящих событий

---

### МОДУЛЬ 7: Запуск по расписанию и события (45 мин.)
**Занятие 7.1: Cron triggers и расписания** (15 мин.)
- Запуск workflow по расписанию (ежедневно, еженедельно)
- Обработка пакетных документов
- Временные зоны и оптимизация

**Занятие 7.2: Event-driven workflows** (15 мин.)
- Trigger на файл в папке
- Trigger на изменение в БД
- Real-time vs batch обработка

**Занятие 7.3: Динамическое расписание** (15 мин.)
- Агент определяет когда нужна обработка
- Условные запуски
- Оптимизация нагрузки

---

### МОДУЛЬ 8: Логирование, мониторинг, аналитика (65 мин.)
**Занятие 8.1: Логирование в n8n** (15 мин.)
- Встроенная система логирования n8n
- Debug nodes для вывода переменных
- Экспорт логов

**Занятие 8.2: SQLite для хранения метрик** (20 мин.)
- Сохранение: входящие документы, обработанные, ошибки
- Метрики: время обработки, точность, успешные операции
- Построение статистики по времени

**Занятие 8.3: Дашборд с результатами** (20 мин.)
- n8n UI для просмотра выполненных workflows
- Простой HTML дашборд с графиками
- Основные KPI: throughput, error rate, avg processing time

**Занятие 8.4: Alerting и уведомления** (10 мин.)
- Отправка Telegram/Email при ошибке
- Слэк-интеграция для оповещений команды
- Threshold-based alerts

---

### МОДУЛЬ 9: Развертывание в Production (55 мин.)
**Занятие 9.1: n8n на облаке (n8n Cloud vs Self-hosted)** (20 мин.)
- n8n Cloud: простое развертывание
- Self-hosted на Yandex Cloud / DigitalOcean
- Docker контейнеризация n8n

**Занятие 9.2: Масштабирование агентов** (20 мин.)
- Очередь задач для параллельной обработки
- Load balancing между несколькими экземплярами
- Управление ресурсами (CPU, memory)

**Занятие 9.3: Безопасность и backup** (15 мин.)
- Защита API ключей в n8n
- Резервное копирование workflows
- Версионирование конфигураций

---

### МОДУЛЬ 10: Продвинутые техники (50 мин.)
**Занятие 10.1: Chain of Thought и рассуждения агентов** (15 мин.)
- Многошаговое рассуждение через LLM
- Агент объясняет свои решения
- Логирование цепочки рассуждений

**Занятие 10.2: Fine-tuning промптов для агентов** (20 мин.)
- Что работает хорошо для агентов (few-shot примеры)
- A/B тестирование промптов
- Метрики: точность, скорость, затраты

**Занятие 10.3: Собственные n8n nodes (опционально)** (15 мин.)
- Когда нужны custom nodes
- Создание простого node через JavaScript
- Публикация в n8n community
